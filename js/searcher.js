const searcher={init(t){this.composition=false;window.addEventListener("load",(()=>{this.input=document.getElementsByClassName("search-bar")[0];this.timeline=document.getElementsByClassName("timeline");this.input.addEventListener("input",(()=>this.composition||this.update()));this.input.addEventListener("compositionstart",(()=>this.composition=true));this.input.addEventListener("compositionend",(()=>{this.update();this.composition=false}));fetch(t).then((t=>t.json())).then((t=>{this.data=t}))}))},rstr(t){if(!t)return"";return t.toLowerCase().replace(/\s+/gm,"")},match(t,e){return t.indexOf(e)!=-1},update(){let t=[],e=this.rstr(this.input.value);if(e)t=this.data.filter((t=>this.match(t.odata,e))).map((t=>t.path));else t=this.data.map((t=>t.path));for(let e of this.timeline)if(t.indexOf(e.getAttribute("path"))==-1){e.style.opacity=0;e.style.pointerEvents="none";e.style.marginTop=-e.offsetHeight-30+"px"}else{e.style.opacity=1;e.style.pointerEvents="";e.style.marginTop=""}}};